import{c as b,r as f,q as y,x as n,z as s,R as w,L as i,Q as h,u as o,P as l,Y as _,K as u,aq as p,O as c,y as a}from"./vue-vendor-Bsazo-x0.js";import{_ as v,u as k,a as S}from"./index-Doq5dFno.js";import{T as L}from"./ThemeToggle-epFioXIY.js";import"./element-plus-CqiD73Lu.js";import"./vendor-Dr8jvgFu.js";const V={class:"flex min-h-screen items-center justify-center p-4 sm:p-6"},T={class:"fixed right-4 top-4 z-50"},N={class:"glass-strong w-full max-w-md rounded-none p-6 shadow-2xl sm:rounded-none sm:p-8 md:rounded-none md:p-10"},I={class:"mb-6 text-center sm:mb-8"},q={class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center overflow-hidden rounded-none border border-gray-300/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 backdrop-blur-sm sm:mb-6 sm:h-20 sm:w-20 sm:rounded-none"},D=["src"],E={key:1,class:"fas fa-cloud text-2xl text-gray-700 sm:text-3xl"},j={key:1,class:"h-10 w-10 animate-pulse rounded-none bg-gray-300/50 sm:h-12 sm:w-12"},B={key:0,class:"header-title mb-2 text-2xl font-bold text-white sm:text-3xl"},M={key:1,class:"mx-auto mb-2 h-8 w-48 animate-pulse rounded-none bg-gray-300/50 sm:h-9 sm:w-64"},z=["disabled"],F={key:0,class:"fas fa-sign-in-alt mr-2"},O={key:1,class:"loading-spinner mr-2"},U={key:0,class:"mt-4 rounded-none border border-red-500/30 bg-red-500/20 p-3 text-center text-xs text-red-800 backdrop-blur-sm dark:text-red-400 sm:mt-6 sm:rounded-none sm:p-4 sm:text-sm"},A={__name:"LoginView",setup(C){const e=k(),g=S(),m=b(()=>e.oemLoading),r=f({username:"",password:""});y(()=>{g.initTheme(),e.loadOemSettings()});const x=async()=>{await e.login(r.value)};return(K,t)=>(a(),n("div",V,[s("div",T,[w(L,{mode:"dropdown"})]),s("div",N,[s("div",I,[s("div",q,[m.value?(a(),n("div",j)):(a(),n(h,{key:0},[o(e).oemSettings.siteIconData||o(e).oemSettings.siteIcon?(a(),n("img",{key:0,alt:"Logo",class:"h-10 w-10 object-contain sm:h-12 sm:w-12",src:o(e).oemSettings.siteIconData||o(e).oemSettings.siteIcon,onError:t[0]||(t[0]=d=>d.target.style.display="none")},null,40,D)):(a(),n("i",E))],64))]),!m.value&&o(e).oemSettings.siteName?(a(),n("h1",B,l(o(e).oemSettings.siteName),1)):m.value?(a(),n("div",M)):i("",!0),t[3]||(t[3]=s("p",{class:"text-base text-gray-600 dark:text-gray-400 sm:text-lg"},"管理后台",-1))]),s("form",{class:"space-y-4 sm:space-y-6",onSubmit:_(x,["prevent"])},[s("div",null,[t[4]||(t[4]=s("label",{class:"mb-2 block text-sm font-semibold text-gray-900 dark:text-gray-100 sm:mb-3",for:"username"},"用户名",-1)),u(s("input",{id:"username","onUpdate:modelValue":t[1]||(t[1]=d=>r.value.username=d),autocomplete:"username",class:"form-input w-full",name:"username",placeholder:"请输入用户名",required:"",type:"text"},null,512),[[p,r.value.username]])]),s("div",null,[t[5]||(t[5]=s("label",{class:"mb-2 block text-sm font-semibold text-gray-900 dark:text-gray-100 sm:mb-3",for:"password"},"密码",-1)),u(s("input",{id:"password","onUpdate:modelValue":t[2]||(t[2]=d=>r.value.password=d),autocomplete:"current-password",class:"form-input w-full",name:"password",placeholder:"请输入密码",required:"",type:"password"},null,512),[[p,r.value.password]])]),s("button",{class:"btn btn-primary w-full px-4 py-3 text-base font-semibold sm:px-6 sm:py-4 sm:text-lg",disabled:o(e).loginLoading,type:"submit"},[o(e).loginLoading?i("",!0):(a(),n("i",F)),o(e).loginLoading?(a(),n("div",O)):i("",!0),c(" "+l(o(e).loginLoading?"登录中...":"登录"),1)],8,z)],32),o(e).loginError?(a(),n("div",U,[t[6]||(t[6]=s("i",{class:"fas fa-exclamation-triangle mr-2"},null,-1)),c(l(o(e).loginError),1)])):i("",!0)])]))}},H=v(A,[["__scopeId","data-v-c2e209a1"]]);export{H as default};
